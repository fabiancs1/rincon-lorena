<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agenda ‚Äî Rinc√≥n de Lorena</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet">
<style>
:root{--bg:#0d0810;--surface:#16101a;--surface2:#1e1525;--cream:#f5ede0;--muted:rgba(245,237,224,0.5);--rose:#d4789a;--deep-rose:#a0435a;--gold:#c9a84c;--soft-gold:rgba(201,168,76,0.12);--border:rgba(201,168,76,0.12);--border-rose:rgba(212,120,154,0.2);}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--bg);font-family:'Cormorant Garamond',serif;color:var(--cream);min-height:100vh;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;background:radial-gradient(ellipse 60% 50% at 30% 70%,rgba(160,67,90,0.1) 0%,transparent 70%);}
.topbar{position:sticky;top:0;z-index:100;display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:rgba(13,8,16,0.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);}
.topbar-logo{font-family:'Playfair Display',serif;font-style:italic;color:var(--gold);font-size:1rem;text-decoration:none;}
.topbar-nav{display:flex;gap:2px;overflow-x:auto;}
.nav-link{color:var(--muted);font-size:0.78rem;padding:6px 12px;border-radius:20px;text-decoration:none;transition:all 0.2s;border:1px solid transparent;white-space:nowrap;}
.nav-link:hover{color:var(--cream);}
.nav-link.active{color:var(--gold);border-color:rgba(201,168,76,0.25);background:var(--soft-gold);}
.page-body{position:relative;z-index:1;max-width:860px;margin:0 auto;padding:40px 20px 80px;}
.page-header{margin-bottom:30px;}
.page-header h1{font-family:'Playfair Display',serif;font-size:clamp(1.8rem,5vw,2.6rem);}
.page-header h1 em{color:var(--rose);font-style:italic;}
.page-header p{color:var(--muted);font-style:italic;margin-top:6px;border-left:2px solid var(--gold);padding-left:12px;}
/* CALENDAR */
.cal-nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;}
.cal-nav h2{font-family:'Playfair Display',serif;font-size:1.3rem;font-style:italic;color:var(--gold);}
.cal-btn{background:none;border:1px solid var(--border);color:var(--gold);width:36px;height:36px;border-radius:50%;cursor:pointer;font-size:1rem;transition:all 0.2s;display:flex;align-items:center;justify-content:center;}
.cal-btn:hover{background:var(--soft-gold);}
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:30px;}
.cal-day-name{text-align:center;font-size:0.68rem;letter-spacing:0.1em;color:var(--muted);text-transform:uppercase;padding:8px 0;}
.cal-day{aspect-ratio:1;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s;font-size:0.88rem;position:relative;border:1px solid transparent;}
.cal-day:hover{background:var(--surface);border-color:var(--border);}
.cal-day.today{background:rgba(212,120,154,0.15);border-color:var(--border-rose);color:var(--rose);font-weight:600;}
.cal-day.has-event::after{content:'';position:absolute;bottom:4px;left:50%;transform:translateX(-50%);width:4px;height:4px;border-radius:50%;background:var(--gold);}
.cal-day.selected{background:var(--surface2);border-color:var(--rose);}
.cal-day.empty{cursor:default;}
.cal-day.other-month{opacity:0.25;}
/* EVENTS */
.events-panel{background:var(--surface);border:1px solid var(--border);border-radius:18px;padding:24px;}
.events-panel h3{font-family:'Playfair Display',serif;font-size:1.05rem;color:var(--cream);margin-bottom:16px;}
.events-panel h3 span{color:var(--rose);font-style:italic;}
.event-list{display:flex;flex-direction:column;gap:10px;margin-bottom:18px;min-height:40px;}
.event-item{background:var(--surface2);border:1px solid var(--border);border-radius:12px;padding:12px 16px;display:flex;align-items:center;gap:12px;}
.event-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;}
.event-text{flex:1;font-size:0.9rem;color:var(--cream);}
.event-del{background:none;border:none;color:var(--muted);cursor:pointer;font-size:1rem;padding:4px;transition:color 0.2s;}
.event-del:hover{color:var(--rose);}
.event-empty{color:var(--muted);font-style:italic;font-size:0.88rem;padding:8px 0;}
/* ADD EVENT */
.add-event{display:flex;gap:10px;flex-wrap:wrap;}
.add-event input{flex:1;min-width:180px;background:var(--surface2);border:1px solid var(--border);color:var(--cream);padding:10px 14px;border-radius:12px;font-family:'Cormorant Garamond',serif;font-size:0.95rem;outline:none;transition:border-color 0.2s;}
.add-event input::placeholder{color:var(--muted);}
.add-event input:focus{border-color:var(--border-rose);}
.add-event select{background:var(--surface2);border:1px solid var(--border);color:var(--cream);padding:10px 12px;border-radius:12px;font-family:'Cormorant Garamond',serif;font-size:0.9rem;outline:none;cursor:pointer;}
.btn-add{background:linear-gradient(135deg,var(--deep-rose),var(--rose));color:white;border:none;padding:10px 20px;border-radius:12px;font-family:'Cormorant Garamond',serif;font-size:0.95rem;cursor:pointer;transition:all 0.2s;white-space:nowrap;}
.btn-add:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(160,67,90,0.35);}
@keyframes fadeUp{from{opacity:0;transform:translateY(18px);}to{opacity:1;transform:translateY(0);}}
@media(max-width:600px){.topbar-nav .nav-text{display:none;}.cal-day{font-size:0.78rem;border-radius:8px;}.add-event{flex-direction:column;}}
</style>
</head>
<body>
<header class="topbar">
  <a href="index.html" class="topbar-logo">Rinc√≥n de Lorena üåπ</a>
  <nav class="topbar-nav">
    <a href="biblioteca.html" class="nav-link">üìö<span class="nav-text"> Libros</span></a>
    <a href="videos.html" class="nav-link">üé¨<span class="nav-text"> Videos</span></a>
    <a href="musica.html" class="nav-link">üéµ<span class="nav-text"> M√∫sica</span></a>
    <a href="calendario.html" class="nav-link active">üìÖ<span class="nav-text"> Agenda</span></a>
    <a href="diario.html" class="nav-link">üí≠<span class="nav-text"> Diario</span></a>
    <a href="album.html" class="nav-link">üñºÔ∏è<span class="nav-text"> √Ålbum</span></a>
  </nav>
</header>
<div class="page-body">
  <div class="page-header">
    <h1>Tu <em>Agenda</em> üìÖ</h1>
    <p>Tus eventos, recordatorios y fechas importantes</p>
  </div>
  <div class="cal-nav">
    <button class="cal-btn" onclick="changeMonth(-1)">‚Äπ</button>
    <h2 id="calTitle"></h2>
    <button class="cal-btn" onclick="changeMonth(1)">‚Ä∫</button>
  </div>
  <div class="cal-grid" id="calGrid"></div>
  <div class="events-panel">
    <h3>Eventos del <span id="selectedDateLabel">d√≠a</span></h3>
    <div class="event-list" id="eventList"></div>
    <div class="add-event">
      <input type="text" id="eventInput" placeholder="Agregar evento o recordatorio..." maxlength="80">
      <select id="eventColor">
        <option value="#d4789a">üå∏ Rosa</option>
        <option value="#c9a84c">‚ú® Dorado</option>
        <option value="#7ab8d4">üíô Azul</option>
        <option value="#7ad4a0">üíö Verde</option>
        <option value="#d4a87a">üçä Naranja</option>
      </select>
      <button class="btn-add" onclick="addEvent()">+ Agregar</button>
    </div>
  </div>
</div>
<script>
const MONTHS=['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];
const DAYS=['Dom','Lun','Mar','Mi√©','Jue','Vie','S√°b'];
let cur=new Date();let viewYear=cur.getFullYear();let viewMonth=cur.getMonth();
let selectedDate=`${cur.getFullYear()}-${String(cur.getMonth()+1).padStart(2,'0')}-${String(cur.getDate()).padStart(2,'0')}`;
function getEvents(){try{return JSON.parse(localStorage.getItem('lorena_events')||'{}');}catch{return {};}}
function saveEvents(e){localStorage.setItem('lorena_events',JSON.stringify(e));}
function buildCal(){
  document.getElementById('calTitle').textContent=`${MONTHS[viewMonth]} ${viewYear}`;
  const grid=document.getElementById('calGrid');
  let html=DAYS.map(d=>`<div class="cal-day-name">${d}</div>`).join('');
  const first=new Date(viewYear,viewMonth,1).getDay();
  const daysInMonth=new Date(viewYear,viewMonth+1,0).getDate();
  const prevDays=new Date(viewYear,viewMonth,0).getDate();
  const events=getEvents();
  for(let i=0;i<first;i++){
    const day=prevDays-first+i+1;
    html+=`<div class="cal-day other-month empty">${day}</div>`;
  }
  for(let d=1;d<=daysInMonth;d++){
    const key=`${viewYear}-${String(viewMonth+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
    const isToday=key===`${cur.getFullYear()}-${String(cur.getMonth()+1).padStart(2,'0')}-${String(cur.getDate()).padStart(2,'0')}`;
    const hasEv=events[key]&&events[key].length>0;
    const isSel=key===selectedDate;
    html+=`<div class="cal-day${isToday?' today':''}${hasEv?' has-event':''}${isSel?' selected':''}" onclick="selectDay('${key}',${d})">${d}</div>`;
  }
  const total=first+daysInMonth;const remaining=(7-total%7)%7;
  for(let i=1;i<=remaining;i++) html+=`<div class="cal-day other-month empty">${i}</div>`;
  grid.innerHTML=html;
  renderEvents();
}
function selectDay(key,d){
  selectedDate=key;
  buildCal();
}
function renderEvents(){
  const events=getEvents();
  const list=document.getElementById('eventList');
  const evs=events[selectedDate]||[];
  const parts=selectedDate.split('-');
  document.getElementById('selectedDateLabel').textContent=`${parseInt(parts[2])} de ${MONTHS[parseInt(parts[1])-1]}`;
  if(!evs.length){list.innerHTML='<p class="event-empty">Sin eventos para este d√≠a ‚ú®</p>';return;}
  list.innerHTML=evs.map((e,i)=>`
    <div class="event-item">
      <div class="event-dot" style="background:${e.color||'var(--rose)'}"></div>
      <span class="event-text">${e.text}</span>
      <button class="event-del" onclick="delEvent(${i})" title="Eliminar">‚úï</button>
    </div>`).join('');
}
function addEvent(){
  const inp=document.getElementById('eventInput');
  const txt=inp.value.trim();
  if(!txt)return;
  const color=document.getElementById('eventColor').value;
  const events=getEvents();
  if(!events[selectedDate])events[selectedDate]=[];
  events[selectedDate].push({text:txt,color});
  saveEvents(events);
  inp.value='';
  buildCal();
}
function delEvent(i){
  const events=getEvents();
  if(events[selectedDate]){events[selectedDate].splice(i,1);if(!events[selectedDate].length)delete events[selectedDate];}
  saveEvents(events);buildCal();
}
function changeMonth(d){viewMonth+=d;if(viewMonth>11){viewMonth=0;viewYear++;}else if(viewMonth<0){viewMonth=11;viewYear--;}buildCal();}
document.getElementById('eventInput').addEventListener('keydown',e=>{if(e.key==='Enter')addEvent();});
buildCal();
</script>
</body>
</html>